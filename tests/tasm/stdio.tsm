section text
    ; Prints a strz to stdout
    ; Arguments:
    ;   ESI: the pointer to the strz to print
    ; Modifies:
    ;   EAX
    ; Returns:
    ;   EAX: the number of bytes written
    printz:
        pushdw RP       ; Save RP
        call strlen     ; Calculate welcome message length
        mov ECX, EAX    ; Save strlen(ESI)
        mov EBX, 1      ; fd = stdout
        mov EAX, 1      ; Write() syscall
        syscall
        popdw RP        ; Restore RP
        ret

    ; Prints n characters of a strz to stdout
    ; Arguments:
    ;   ESI: the pointer to the strz to print
    ;   ECX: the number of characters to print
    ; Modifies:
    ;   EAX
    ; Returns:
    ;   EAX: the number of bytes written, as a u32
    printnz:
        mov EBX, 1      ; fd = stdout
        mov EAX, 1      ; Write() syscall
        syscall
        ret

    ; Reads n characters from stdin
    ; Arguments:
    ;   EDI: the pointer to write to
    ;   ECX: the size of the pointer buffer
    ; Modifies:
    ;   EAX
    ; Returns:
    ;   EAX: the number of bytes read, as a u32
    readn:
        mov EAX, 2              ; Read() syscall
        mov EBX, 0              ; fd = stdin
        syscall
        ret